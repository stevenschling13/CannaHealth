#!/usr/bin/env python3
"""Stub Alembic CLI to satisfy offline workflows."""
from __future__ import annotations

import sys


def main(argv: list[str] | None = None) -> int:
    args = argv or sys.argv[1:]
    if len(args) >= 2 and args[0] == "upgrade" and args[1] == "head":
        print("Alembic stub: no migrations executed (offline mode)")
        return 0
    print("Alembic stub supports only 'upgrade head'", file=sys.stderr)
    return 1


if __name__ == "__main__":  # pragma: no cover - CLI entry point
    raise SystemExit(main())
